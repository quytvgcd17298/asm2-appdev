﻿@model IEnumerable<GES_APP.Models.Enrollment>

@{ ViewBag.Title = "Enrollments"; }

<h2>Enrollments</h2>
@if (User.IsInRole("TrainingStaff"))
{
<p>
    @Html.ActionLink("Create New", "Create")
</p>

                <table class="table">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Student)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Course)
                        </th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>

                    @foreach (var item in Model)                    {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Student.UserName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Course.Name)
                    </td>
                    <td>@Html.ActionLink("Edit", "Edit", new { id = item.Id })</td>
                    <td>@Html.ActionLink("Delete", "Delete", new { id = item.Id })</td>
                </tr>
}
                </table>
}
@if (User.IsInRole("Student"))
{<table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(item => item.Course)
            </th>
            <th></th>
        </tr>
        @foreach (var item in Model)
        {
 <tr>
     <td>
         @Html.DisplayFor(modelItem => item.Course.Name)
     </td>
 </tr>
}
    </table>}
@Html.ActionLink("Back to home", "Index", "Home")

